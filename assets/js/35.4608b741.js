(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{493:function(r,e,t){"use strict";t.r(e);var s=t(30),a=Object(s.a)({},(function(){var r=this,e=r.$createElement,t=r._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":r.$parent.slotKey}},[t("h2",{attrs:{id:"概述"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[r._v("#")]),r._v(" 概述")]),r._v(" "),t("ul",[t("li",[r._v("docker是一个开源的应用容器引擎")]),r._v(" "),t("li",[r._v("go语言实现")]),r._v(" "),t("li",[r._v("每个容器相互隔离")])]),r._v(" "),t("h2",{attrs:{id:"安装docker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装docker"}},[r._v("#")]),r._v(" 安装docker")]),r._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[r._v("//-y  不询问安装，直到安装成功\nyum install -y docker\n\n//安装完通过如下命令查看\ndocker -v\n")])]),r._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[r._v("1")]),t("br"),t("span",{staticClass:"line-number"},[r._v("2")]),t("br"),t("span",{staticClass:"line-number"},[r._v("3")]),t("br"),t("span",{staticClass:"line-number"},[r._v("4")]),t("br"),t("span",{staticClass:"line-number"},[r._v("5")]),t("br")])]),t("h2",{attrs:{id:"docker架构"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker架构"}},[r._v("#")]),r._v(" docker架构")]),r._v(" "),t("img",{attrs:{src:"/old-times/png/docker/docker_1.png"}}),r._v(" "),t("h2",{attrs:{id:"docker镜像加速器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker镜像加速器"}},[r._v("#")]),r._v(" docker镜像加速器")]),r._v(" "),t("p",[r._v("默认情况下，从docker hub()上下载docker镜像太慢，\n一般都会配置加速器。")]),r._v(" "),t("p",[r._v("https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors")]),r._v(" "),t("h2",{attrs:{id:"docker命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker命令"}},[r._v("#")]),r._v(" docker命令")]),r._v(" "),t("img",{attrs:{src:"/old-times/png/docker/docker_2.png"}}),r._v(" "),t("img",{attrs:{src:"/old-times/png/docker/docker_3.png"}}),r._v(" "),t("img",{attrs:{src:"/old-times/png/docker/docker_4.png"}}),r._v(" "),t("img",{attrs:{src:"/old-times/png/docker/docker_5.png"}}),r._v(" "),t("h2",{attrs:{id:"docker容器的数据卷"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker容器的数据卷"}},[r._v("#")]),r._v(" docker容器的数据卷")]),r._v(" "),t("p",[r._v("思考：")]),r._v(" "),t("ul",[t("li",[t("p",[r._v("docker容器删除后，在容器中产生的数据也随之销毁")])]),r._v(" "),t("li",[t("p",[r._v("docker容器和外部机器可以直接交换文件吗？")])]),r._v(" "),t("li",[t("p",[r._v("容器之间想要进行数据交互？")])])]),r._v(" "),t("p",[r._v("数据卷：")]),r._v(" "),t("ul",[t("li",[t("p",[r._v("数据卷是宿主机中的一个目录或文件")])]),r._v(" "),t("li",[t("p",[r._v("当容器目录和护具卷目录绑定后，对方的修改会立即同步")])]),r._v(" "),t("li",[t("p",[r._v("一个数据卷可以被多个容器同时挂载")])]),r._v(" "),t("li",[t("p",[r._v("一个容器也可以挂载多个数据卷")])])]),r._v(" "),t("p",[r._v("数据卷的作用：")]),r._v(" "),t("ul",[t("li",[t("p",[r._v("容器数据持久化")])]),r._v(" "),t("li",[t("p",[r._v("外部机器和容器间接通信")])]),r._v(" "),t("li",[t("p",[r._v("容器之间数据交换")])])]),r._v(" "),t("h2",{attrs:{id:"配置数据卷"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置数据卷"}},[r._v("#")]),r._v(" 配置数据卷")]),r._v(" "),t("img",{attrs:{src:"/old-times/png/docker/docker_6.png"}}),r._v(" "),t("img",{attrs:{src:"/old-times/png/docker/docker_7.png"}}),r._v(" "),t("h2",{attrs:{id:"应用部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#应用部署"}},[r._v("#")]),r._v(" 应用部署")]),r._v(" "),t("img",{attrs:{src:"/old-times/png/docker/docker_8.png"}}),r._v(" "),t("h2",{attrs:{id:"dockerfile"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dockerfile"}},[r._v("#")]),r._v(" dockerfile")]),r._v(" "),t("p",[r._v("linux 文件管理子系统")]),r._v(" "),t("ul",[t("li",[t("p",[r._v("bootfs(共有的):bootloader(引导加载程序)和kernel(内核)")])]),r._v(" "),t("li",[t("p",[r._v("rootfs：root文件系统，包含的就是典型linux系统中的/dev,/proc,/bin,/etc等标准文件和目录")])]),r._v(" "),t("li",[t("p",[r._v("不同的linux发行版，bootfs基本一样，而rootfs不同，如centos，ubuntu")])])]),r._v(" "),t("p",[r._v("docker镜像原理\n"),t("img",{attrs:{src:"/old-times/png/docker/docker_10.png"}})]),r._v(" "),t("img",{attrs:{src:"/old-times/png/docker/docker_11.png"}}),r._v(" "),t("h2",{attrs:{id:"docker镜像制作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker镜像制作"}},[r._v("#")]),r._v(" docker镜像制作")]),r._v(" "),t("h3",{attrs:{id:"容器转为镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#容器转为镜像"}},[r._v("#")]),r._v(" 容器转为镜像")]),r._v(" "),t("p",[r._v("容器转为的镜像不会包含挂载目录的内容，其他的改变可以生效")]),r._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[r._v("docker commit containerId name:tag\n\ndocker save -o /root/shirs/test.tar name:tag\n\ndocker load -i\n")])]),r._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[r._v("1")]),t("br"),t("span",{staticClass:"line-number"},[r._v("2")]),t("br"),t("span",{staticClass:"line-number"},[r._v("3")]),t("br"),t("span",{staticClass:"line-number"},[r._v("4")]),t("br"),t("span",{staticClass:"line-number"},[r._v("5")]),t("br")])]),t("h3",{attrs:{id:"dockerfile-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dockerfile-2"}},[r._v("#")]),r._v(" dockerfile")]),r._v(" "),t("p",[r._v("dockerfile是一个文本文件，包含了一条条的指令，打包时一个指令就是一个步骤。\n每一条指令构建一层，基于基础镜像，最终构建出一个新的镜像。")]),r._v(" "),t("img",{attrs:{src:"/old-times/png/docker/docker_12.png"}}),r._v(" "),t("img",{attrs:{src:"/old-times/png/docker/docker_13.png"}}),r._v(" "),t("h2",{attrs:{id:"docker服务编排"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker服务编排"}},[r._v("#")]),r._v(" docker服务编排")]),r._v(" "),t("img",{attrs:{src:"/old-times/png/docker/docker_14.png"}}),r._v(" "),t("h2",{attrs:{id:"docker和传统虚拟机的比较"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker和传统虚拟机的比较"}},[r._v("#")]),r._v(" docker和传统虚拟机的比较")]),r._v(" "),t("img",{attrs:{src:"/old-times/png/docker/docker_15.png"}}),r._v(" "),t("img",{attrs:{src:"/old-times/png/docker/docker_16.png"}})])}),[],!1,null,null,null);e.default=a.exports}}]);